<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	template="/xhtml/bases/base.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:bargas="http://barganhas.com.br/barganhas">
	
	<ui:define name="bodyNavigation">
		<!-- title -->
		<h:panelGroup layout="block" id="advertisementDetailTitle" styleClass="advertisementDetailMainHeader">
			<h:outputText value="#{siteBean.advertisement.title}"/>
		</h:panelGroup>
		
		<h:panelGrid columns="2" columnClasses="columnTop, advertisementDetailColumnTop">
			<h:panelGrid>
				<h:panelGroup id="advertisementMainPicture" layout="block">
					<h:graphicImage value="/fileserver?q=#{bargas:getStringFromKey(siteBean.advertisementPicture)}"/>
				</h:panelGroup>
				
				<h:panelGroup id="advertisementBoxThumbnails" layout="block">
					<h:panelGroup styleClass="advertisementPictureThumbnail" layout="block">
						<a4j:commandLink render="advertisementMainPicture" execute="@this">
							<h:graphicImage value="/fileserver?q=#{bargas:getStringFromKey(siteBean.advertisement.sheetPicture.keyThumbnail)}"/>
							<f:setPropertyActionListener value="#{siteBean.advertisement.sheetPicture.keyPicture}" target="#{siteBean.advertisementPicture}"/>
						</a4j:commandLink>
					</h:panelGroup>
					
					<ui:repeat var="advertisementPicture" value="#{siteBean.advertisement.listAdvertisementPictures}">
						<h:panelGroup styleClass="advertisementPictureThumbnail" layout="block">
							<a4j:commandLink render="advertisementMainPicture" execute="@this">
								<h:graphicImage value="/fileserver?q=#{bargas:getStringFromKey(advertisementPicture.keyThumbnail)}"/>
								<f:setPropertyActionListener value="#{advertisementPicture.keyPicture}" target="#{siteBean.advertisementPicture}"/>
							</a4j:commandLink>
						</h:panelGroup>
					</ui:repeat>
				</h:panelGroup>
			</h:panelGrid>
			
			<h:panelGrid id="advertisementDetails" style="width: 100%;">
				<!-- description -->
				<bargas:outputText id="description" value="#{msg.privateAreaDescription};" styleClass="advertisementDetailHeader"/>
				<h:panelGroup layout="block" class="advertisementDetails">
					<h:outputText value="#{siteBean.advertisement.description}"/>
				</h:panelGroup>
				
				<!-- contacts -->
				<bargas:outputText id="contacts" value="#{msg.advertisementContacts};" styleClass="advertisementDetailHeader"/>
				<h:panelGroup layout="block" class="advertisementDetails">
					<h:outputText value="#{siteBean.advertisement.contacts}"/>
				</h:panelGroup>
				
				<!-- listExchangeBy -->
				<bargas:outputText id="listExchangeBy" value="#{msg.advertisementListExchangeBy};" styleClass="advertisementDetailHeader"/>
				<h:panelGroup layout="block" class="advertisementDetails">
					<h:outputText value="#{siteBean.advertisement.listExchangeBy}"/>
				</h:panelGroup>
				
				<!-- value -->
				<bargas:outputText id="value" value="#{msg.privateAreaCurrencyValue};" styleClass="advertisementDetailHeader"/>
				<h:panelGroup layout="block" styleClass="advertisementValueDetails">
					<h:outputText value="#{msg.msgRealCurrency} #{siteBean.advertisement.value}"/>
				</h:panelGroup>
			</h:panelGrid>
		</h:panelGrid>
		
		<!-- comments area -->
		<h:panelGroup layout="block" id="advertisementComments">
			<h:panelGrid columns="2" columnClasses="advertisementCommentsColumnImg, advertisementCommentsColumnMsg">
				<h:graphicImage value="#{request.contextPath}/images/bubble_64.png"/>
				
				<h:panelGrid style="width: 100%;">
					<h:panelGroup layout="block" styleClass="advertisementDetailMainHeader" style="padding: 5px; margin:0;">
						<h:outputText value="#{msg.msgCommentsArea}"/>
					</h:panelGroup>
					<h:panelGroup layout="block">
						<h:graphicImage value="#{request.contextPath}/images/add-filter.png"/>
						<h:commandLink value="#{msg.msgAddComment}" action="#{siteBean.addComment}" styleClass="advertisementBtnAddComment"/>
					</h:panelGroup>
				</h:panelGrid>
			</h:panelGrid>
			
			<h:panelGrid columns="2">
				<h:panelGrid columns="2">
					<!-- imagem do comentario -->
					<!-- quem comentou -->
					<!-- horas em que foi efetuado o comentario -->
					<!-- botao para bloquear comentario -->
				</h:panelGrid>
			</h:panelGrid>
		</h:panelGroup>
		
		<t:saveState value="#{siteBean.advertisement}"/>
		<t:saveState value="#{siteBean.advertisementPicture}"/>
	</ui:define>
</ui:composition>